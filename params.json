{"name":"Omf","tagline":"Object Modeling Framework (OMF), a framework for handling objects and relationships. Available for pure PHP and Yii Framework. Portable to other languages (comming soon).","body":"### OMF a new simple framework for handling objects and relationships.\r\n\r\nOMF is a little but powerful framework capable of handling the persistence for objects and relationships independent of the selected storage mode. All your system can be built using OMF, including the relationships between your business classes.\r\n\r\n### The Omf Concept\r\n\r\nSuppose you have a CAR, a PIECE and a PERSON as example of business classes. Now explore the possible relationships between that classes: A Car has Pieces, that last ones can be sold by a Person, and again, a Person can be the owner of that Car or the technician for that same Car.  In Omf this example can be draw as this:\r\n\r\n[:Car]--{has_piece}-->[:Piece]\r\n[:Person]--{is_owner}-->[:Car]\r\n[:Person]--{tech_guy}-->[:Car]\r\n[:Person]--{is_vendor}-->[:Piece]\r\n\r\nIn traditional persistence models you need at least 6 or 7 tables to persist this model, when system grows in size then the number of tables grows too. Using OMF you will always has 2 tables: omf_objects and omf_relationships, no more. \r\n\r\n###Portability\r\n\r\nIn OMF the portability is a core part of this framework. Suppose again you have a big system having 150 tables composing the persistence, now due to something you must move your system to a Cloud or somewhere else. What happen with that 150 tables, indexes and all the stuff ? Or think about the changes required to that persistence model after any change in your source code ?.  In OMF that's not a problem at all because you store all your system in two tables, the way in how your system read/write relay on a simple persistence php file.\r\n\r\nIn my experience using OMF as core component for persistence and object-relationship handling all becomes fluid and beauty, after core changes in source code (new features, bug fixes etc) i never again be concerned of what needs to be done in respect to sql changes because OMF will not change, it still be the same: two tables. \r\n\r\n##A little OMF example\r\n\r\n```\r\n/*\r\n[:Person]--{is_owner}-->[:Car]\r\n[:Car]--{has_piece}-->[:Piece]\r\n[:Person]--{tech_guy}-->[:Car]\r\n[:Person]--{is_vendor}-->[:Piece]\r\n*/\r\n$api = new OmfDb();\r\n//\r\n// 1. create the core objects:\r\n//\r\nlist($nova) = $api->create(\"Car\");\r\nlist($jhon) = $api->create(\"Person\");\r\nlist($peter) = $api->create(\"Person\");\r\nlist($kelly) = $api->create(\"Person\");\r\nlist($carburator) = $api->create(\"Piece\");\r\nlist($doorlocker) = $api->create(\"Piece\");\r\n// create some sample attributes\r\n$api->set($nova, \"mark\",\"Chevrolet\");\r\n$api->set($nova, \"model\",\"Nova 74\");\r\n$api->set($nova, \"VIM\",\"12345678\");\r\n$api->set($jhon, \"firstname\",\"Jhonn\");\r\n$api->set($jhon, \"lastname\",\"Doe\");\r\n$api->set($carburator, \"invoice_id\",\"123\");\r\n$api->set($doorlocker, \"invoice_id\",\"456\");\r\n// \r\n// 2. create the relationships between objects:\r\n//\r\n$api->createRelation($jhon, $nova, \"is_owner\");\r\n$api->createRelation($peter, $nova, \"tech_guy\");\r\n$api->createRelation($kelly, $carburator, \"is_vendor\");\r\n$api->createRelation($kelly, $doorlocker, \"is_vendor\");\r\n$api->createRelation($nova, $carburator, \"has_piece\");\r\n$api->createRelation($nova, $doorlocker, \"has_piece\");\r\n$api->createRelation($jhon, $nova, \"owns_by\");\r\n$api->createRelation($peter, $nova, \"is_tech_guy\");\r\n$api->createRelation($kelly, $nova, \"is_car_vendor\");\r\n$api->createRelation($peter, $nova, \"support_guy\");\r\n$api->createRelation($kelly, $nova, \"support_guy\");\r\n\r\n```\r\nOk, now you know how OMF create the objects and its relationships, now a little example to show how to read the information, lets starting by finding a car by its VIM number:\r\n(the VIM is an attribute given to this example, is the legal Vehicle Identification Number in the United States, is not a core part in OMF at all...)\r\n\r\n```\r\n//\r\n// 3. query the system in various ways\r\n//\r\n$api = new OmfDb();\r\n$car_attributes = $api->$this->getObject('Car',array('VIM'=>'1234567'));\r\n$car_id = $car_attributes[\"id\"]; // \"a unique id created by the framework\"\r\n$car_mark = $car_attributes[\"mark\"];  // \"Chevrolet\"\r\n$car_model = $car_attributes[\"model\"]; // \"Nova\"\r\n\r\n// who is given support to this car ?\r\n//\r\nforeach($api->getParents($car_id, \"support_guy\") as $obj){\r\n   // getParents retrieve those objects having the relationship named \"support_guy\"\r\n   // pointing to this car. you can query any relationship name.\r\n   list($obj_id) = $obj;\r\n   $who_is_given_support = $api->get($obj_id, \"firstname\");\r\n}\r\n\r\n// what pieces has this car ? and who is the vendor of that piece ?\r\n//\r\nforeach($api->getChilds($car_id, \"has_piece\") as $obj){\r\n   // getChilds retrieve those objects having the relationship named \"support_guy\"\r\n   // having this car as parent.\r\n   list($piece_id) = $obj;\r\n   $invoice_id = $api->get($piece_id, \"invoice_id\");\r\n   // now query the vendor of that piece:\r\n   foreach($api->getChilds($piece_id, \"is_vendor\") as $obj2){\r\n      list($person_id) = $obj2;\r\n      $vendor_name = $api->get($person_id, \"firstname\"); // Kelly\r\n   }\r\n}\r\n\r\n```\r\n\r\nThis little example becomes complicated and heavy in traditional persistence models, in OMF is Easy to understand, and persistence is now a problem at all: all this system is stored in two unique tables: omf_objects and omf_relations.\r\n\r\nCheck the README.md for more detailed api examples.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}